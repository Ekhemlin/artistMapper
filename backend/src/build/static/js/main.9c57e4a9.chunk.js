(this.webpackJsonpsite=this.webpackJsonpsite||[]).push([[0],{220:function(e,t,n){e.exports=n(439)},225:function(e,t,n){},231:function(e,t,n){},434:function(e,t,n){},439:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(31),i=n.n(r),d=(n(225),n(17)),s=n.n(d),c=n(32),l=n(109);var u=function(){function e(){return(e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"2be7fd88da5d44ff818556c6d53a62a0","http://ec2-100-26-121-105.compute-1.amazonaws.com/callback",t="https://accounts.spotify.com/authorize?"+l.stringify({client_id:"2be7fd88da5d44ff818556c6d53a62a0",response_type:"token",redirect_uri:"http://ec2-100-26-121-105.compute-1.amazonaws.com/callback"}),window.location=t;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.createElement("div",null,o.a.createElement("h1",null," Please log into spotify below "),o.a.createElement("button",{onClick:function(){return function(){return e.apply(this,arguments)}()}}," Authenticate"))},g=n(50);n(109);var p=function(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),d=Object(g.a)(i,2),s=d[0],c=d[1],l=String(window.location).split("#")[1].split("&")[0].split("=")[1];return o.a.createElement("div",null,o.a.createElement("label",null,"Artist1:",o.a.createElement("input",{type:"First artist",value:n,onChange:function(e){return r(e.target.value)}})),o.a.createElement("label",null,"Artist2:",o.a.createElement("input",{type:"Second artist",value:s,onChange:function(e){return c(e.target.value)}})),o.a.createElement("button",{onClick:function(){return localStorage.setItem("token",l),localStorage.setItem("artist1",n),localStorage.setItem("artist2",s),void(window.location="/graph")}},"Submit artists"))};n(229);var h=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("artist1"),n=localStorage.getItem("artist2");return function(){var e=Object(c.a)(s.a.mark((function e(t,n,a){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/fetchArtistMap",{method:"post",body:JSON.stringify({artist1:t,artist2:n,token:a,numRelated:5}),headers:{"Content-Type":"application/json"}});case 2:return o=e.sent,e.next=5,o.json();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()(t,n,e),a.createElement("div",null,a.createElement("h1",null," Map "),a.createElement("p",null,e),a.createElement("p",null,t),a.createElement("p",null,n))},m=n(19),f=n(26),y=n(3),v=n(2),E=n(5),N=n(4),b=n(1),S=(n(231),function(){function e(t){Object(y.a)(this,e),this.graphViewProps=t}return Object(v.a)(e,[{key:"calculatePosition",value:function(e){return e}},{key:"adjustNodes",value:function(e,t){for(var n=null,a=0;a<e.length;a++){n=e[a];var o=this.calculatePosition({x:n.x||0,y:n.y||0});n.x=o.x,n.y=o.y}return e}},{key:"getPositionForNode",value:function(e){return this.calculatePosition(e)}}]),e}()),x=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"calculatePosition",value:function(e){return e}}]),n}(S),k=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"calculatePosition",value:function(e){var t=e.x,n=e.y,a=this.graphViewProps.gridSpacing,o=(a=a||10)/2,r=t||0,i=n||0;if(t&&(t-o)%a!==0){var d=1;(t-o)%a<o&&(d=-1),r=a*Math.round(t/a)+o*d}if(n&&(n-o)%a!==0){var s=1;(n-o)%a<o&&(s=-1),i=a*Math.round(n/a)+o*s}return{x:r,y:i}}}]),n}(S),w=n(41),O={None:x,SnapToGrid:k,VerticalTree:function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"adjustNodes",value:function(e,t){var n=this.graphViewProps,a=n.nodeKey,o=n.nodeSize,r=n.nodeHeight,i=n.nodeWidth,d=n.nodeSpacingMultiplier,s=new w.graphlib.Graph;s.setGraph({}),s.setDefaultEdgeLabel((function(){return{}}));var c,l,u=d||1.5,g=(o||1)*u;return r&&(c=r*u),i&&(l=i*u),e.forEach((function(e){if(t){var n=e[a],o="key-".concat(n),r=t[o];0===r.incomingEdges.length&&0===r.outgoingEdges.length||(s.setNode(o,{width:l||g,height:c||g}),r.outgoingEdges.forEach((function(e){s.setEdge(o,"key-".concat(e.target))})))}})),w.layout(s),s.nodes().forEach((function(e){var n=t[e],a=s.node(e);n.node.x=a.x,n.node.y=a.y})),e}}]),n}(k),HorizontalTree:function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"adjustNodes",value:function(e,t){var n=this.graphViewProps,a=n.nodeKey,o=n.nodeSize,r=n.nodeHeight,i=n.nodeWidth,d=n.nodeSizeOverridesAllowed,s=n.nodeSpacingMultiplier,c=n.nodeLocationOverrides,l=n.graphConfig,u=s||1.5,g=(o||1)*u,p=new w.graphlib.Graph,h=r?r*u:g,m=i?i*u:g;if(p.setGraph(Object.assign({rankdir:"LR"},l)),p.setDefaultEdgeLabel((function(){return{}})),e.forEach((function(e){if(t){var n=e.sizeOverrides,o=(n=void 0===n?{}:n).width,r=n.height,i=e[a],s="key-".concat(i),c=t[s];0===c.incomingEdges.length&&0===c.outgoingEdges.length||(p.setNode(s,{width:d&&o?o:m,height:d&&r?r:h}),c.outgoingEdges.forEach((function(e){p.setEdge(s,"key-".concat(e.target))})))}})),w.layout(p),c)for(var f in c)if(c.hasOwnProperty(f)){var y="key-".concat(f),v=p.node(y),E=c[f];v&&E&&(v.x=E.x,v.y=E.y)}return p.nodes().forEach((function(e){var n=t[e],a=p.node(e);n.node.x=a.x,n.node.y=a.y})),e}}]),n}(k)},T=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gridSize,n=e.backgroundFillId,o=e.renderBackground;return null!=o?o(t):a.createElement("rect",{className:"background",x:-(t||0)/4,y:-(t||0)/4,width:t,height:t,fill:"url(".concat(n||"",")")})}}]),n}(a.Component);T.defaultProps={backgroundFillId:"#grid",gridSize:40960};var j=T,C=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.edgeArrowSize;return e||0===e?a.createElement("marker",{id:"end-arrow",key:"end-arrow",viewBox:"0 -".concat(e/2," ").concat(e," ").concat(e),refX:"".concat(e/2),markerWidth:"".concat(e),markerHeight:"".concat(e),orient:"auto"},a.createElement("path",{className:"arrow",d:"M0,-".concat(e/2,"L").concat(e,",0L0,").concat(e/2)})):null}}]),n}(a.Component);C.defaultProps={edgeArrowSize:8};var D=C,M=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gridSpacing,n=e.gridDotSize;return a.createElement("circle",{className:"circle",cx:(t||0)/2,cy:(t||0)/2,r:n})}}]),n}(a.Component);M.defaultProps={gridDotSize:2,gridSpacing:36};var I=M,z=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gridSpacing,n=e.gridDotSize;return a.createElement("pattern",{id:"grid",key:"grid",width:t,height:t,patternUnits:"userSpaceOnUse"},a.createElement(I,{gridSpacing:t,gridDotSize:n}))}}]),n}(a.Component),R=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return a.createElement("filter",{id:"dropshadow",key:"dropshadow",height:"130%"},a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3"}),a.createElement("feOffset",{dx:"2",dy:"2",result:"offsetblur"}),a.createElement("feComponentTransfer",null,a.createElement("feFuncA",{type:"linear",slope:"0.1"})),a.createElement("feMerge",null,a.createElement("feMergeNode",null),a.createElement("feMergeNode",{in:"SourceGraphic"})))}}]),n}(a.Component),B=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={graphConfigDefs:[]},a}return Object(v.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=[];return n.processGraphConfigDefs(e.nodeTypes,a),n.processGraphConfigDefs(e.nodeSubtypes,a),n.processGraphConfigDefs(e.edgeTypes,a),{graphConfigDefs:a}}},{key:"processGraphConfigDefs",value:function(e,t){Object.keys(e).forEach((function(n){var o=e[n].shapeId?e[n].shapeId.replace("#",""):"graphdef";t.push(a.cloneElement(e[n].shape,{key:"".concat(o,"-").concat(t.length+1)}))}))}}]),Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.edgeArrowSize,n=e.gridSpacing,o=e.gridDotSize;return a.createElement("defs",null,this.state.graphConfigDefs,a.createElement(D,{edgeArrowSize:t}),a.createElement(z,{gridSpacing:n,gridDotSize:o}),a.createElement(R,null),this.props.renderDefs&&this.props.renderDefs())}}]),n}(a.Component);B.defaultProps={gridDotSize:2,renderDefs:function(){return null}};var P=B,A=n(25),Z=n(10),F=n(172),L=n(173),H=n.n(L),K=function(){function e(){Object(y.a)(this,e)}return Object(v.a)(e,null,[{key:"getNodesMap",value:function(e,t){for(var n={},a=Object.keys(e).map((function(t){return e[t]})),o=null,r=0;r<a.length;r++)o=a[r],n["key-".concat(o[t])]={children:[],incomingEdges:[],node:o,originalArrIndex:r,outgoingEdges:[],parents:[]};return n}},{key:"getEdgesMap",value:function(e){for(var t={},n=null,a=0;a<e.length;a++)null!=(n=e[a]).target&&(t["".concat(null!=n.source?n.source:"","_").concat(n.target)]={edge:n,originalArrIndex:a});return t}},{key:"linkNodesAndEdges",value:function(e,t){for(var n=null,a=null,o=null,r=0;r<t.length;r++)null!=(o=t[r]).target&&(n=e["key-".concat(null!=o.source?o.source:"")],a=e["key-".concat(o.target)],n&&a&&(n.outgoingEdges.push(o),a.incomingEdges.push(o),n.children.push(a),a.parents.push(n)))}},{key:"removeElementFromDom",value:function(e){var t=document.getElementById(e);return!(!t||!t.parentNode)&&(t.parentNode.removeChild(t),!0)}},{key:"findParent",value:function(t,n){return t&&t.matches&&t.matches(n)?t:t&&t.parentNode?e.findParent(t.parentNode,n):null}},{key:"classNames",value:function(){for(var e="",t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var o=function(){var t=i[r];"string"===typeof t||"number"===typeof t?e+=" ".concat(t):"object"!==typeof t||Array.isArray(t)||null===t?Array.isArray(t)&&(e+=" ".concat(t.join(" "))):Object.keys(t).forEach((function(n){t[n]&&(e+=" ".concat(n))}))},r=0,i=n;r<i.length;r++)o();return e.trim()}},{key:"yieldingLoop",value:function(e,t,n,a){var o=0;!function r(){for(var i=Math.min(o+t,e);o<i;++o)n.call(null,o);o<e?setTimeout(r,0):a&&a.call(null)}()}},{key:"hasNodeShallowChanged",value:function(e,t){return!this.isEqual(e,t)}},{key:"isEqual",value:function(e,t){return H()(e,t)}}]),e}(),U=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).getEdgeHandleTranslation=function(){var e=o.props.data,t=o.getPathDescription(e),n=(t=(t=t.replace(/^M/,"")).replace(/L/,",")).split(","),a=parseFloat(n[2])-parseFloat(n[0]),r=parseFloat(n[3])-parseFloat(n[1]),i=parseFloat(n[0])+a/2,d=parseFloat(n[1])+r/2;return"translate(".concat(i,", ").concat(d,")")},o.getEdgeHandleOffsetTranslation=function(){var e=-(o.props.edgeHandleSize||0)/2;return"translate(".concat(e,", ").concat(e,")")},o.getEdgeHandleRotation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1,a=o.props.sourceNode,r=o.props.targetNode,i=180*n.getTheta(a,r)/Math.PI;return e&&(i=-i),(i>90||i<-90)&&(i+=180,t=!0),["rotate(".concat(i,")"),t]},o.getEdgeHandleTransformation=function(){var e=o.getEdgeHandleTranslation(),t=o.props.rotateEdgeHandle?o.getEdgeHandleRotation()[0]:"",n=o.getEdgeHandleOffsetTranslation();return"".concat(e," ").concat(t," ").concat(n)},o.edgeOverlayRef=a.createRef(),o}return Object(v.a)(n,null,[{key:"getTheta",value:function(e,t){var n=(t.x||0)-(e.x||0),a=(t.y||0)-(e.y||0);return Math.atan2(a,n)}},{key:"lineFunction",value:function(e){return b.c().x((function(e){return e.x})).y((function(e){return e.y}))(e)}},{key:"getArrowSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.querySelector("defs>marker>.arrow");return t.getBoundingClientRect()}},{key:"getEdgePathElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return t.querySelector("#edge-".concat(e.source,"-").concat(e.target,"-container>.edge-container>.edge>.edge-path"))}},{key:"parsePathToXY",value:function(e){var t={source:{x:0,y:0},target:{x:0,y:0}};if(e){var n=e.getAttribute("d"),a=(n=(n=n&&n.replace(/^M/,""))&&n.replace(/L/,","))&&n.split(",")||[];4===(a=a.map((function(e){return parseFloat(e)}))).length&&(t.source.x=a[0],t.source.y=a[1],t.target.x=a[2],t.target.y=a[3])}return t}},{key:"getDefaultIntersectResponse",value:function(){return{xOff:0,yOff:0,intersect:{type:"none",point:{x:0,y:0}}}}},{key:"getRotatedRectIntersect",value:function(e,t,a,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,i=n.getDefaultIntersectResponse(),d=n.getArrowSize(r),s=e.getBoundingClientRect(),c=e.getAttribute("width"),l=e.getAttribute("height"),u=c?parseFloat(c):s.width,g=l?parseFloat(l):s.height,p=a.x||0,h=a.y||0,m=t.x||0,f=t.y||0,y=h-g/2,v=h+g/2,E=p-u/2,N=p+u/2,b=Object(A.shape)("line",{x1:m,y1:f,x2:p,y2:h}),S={topLeft:new Z.Point2D(E,y),bottomRight:new Z.Point2D(N,v)},x=[S.topLeft,new Z.Point2D(S.bottomRight.x,S.topLeft.y),S.bottomRight,new Z.Point2D(S.topLeft.x,S.bottomRight.y)],k=S.topLeft.lerp(S.bottomRight,.5),w=e.getAttribute("transform"),O=w?w.replace(/(rotate.[0-9]*.)|[^]/g,"$1"):null,T=0;O&&(O=O.replace(/^rotate\(|\)$/g,""),T=parseFloat(O)*Math.PI/180);var j=Z.Matrix2D.rotationAt(T,k),C=x.map((function(e){return e.transform(j)})),D=F.Intersection.intersectLinePolygon(b.params[0],b.params[1],C);if(D.points.length>0){var M=0,I=0,z=D.points[0].x,R=D.points[0].y;z>E&&z<N&&R>h?I=d.height:z>E&&z<N&&R<h?I=-d.height:M=R>y&&R<v&&z<p?-d.width:d.width,i.xOff=p-z-(o?M/1.25:0),i.yOff=h-R-(o?I/1.25:0),i.intersect=D.points[0]}return i}},{key:"getPathIntersect",value:function(e,t,a){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,i=n.getDefaultIntersectResponse(),d=n.getArrowSize(r),s=e.getBoundingClientRect(),c=s.width,l=s.height,u=a.x||0,g=a.y||0,p=t.x||0,h=t.y||0,m=g-l/2,f=g+l/2,y=u-c/2,v=u+c/2,E=e.getAttribute("d");if(/^M/.test(E)){var N=(E=E.replace(/^M /,"")).split(/[ ,]+/);N=N.map((function(e,t){var n=!1;return/Z$/.test(e)&&(e=e.replace(/Z$/,""),n=!0),t%2===0?parseFloat(e)+y+(n?"Z":""):parseFloat(e)+m+(n?"Z":"")}));var b=Object(A.intersect)(Object(A.shape)("path",{d:"M "+N.join(" ")}),Object(A.shape)("line",{x1:p,y1:h,x2:u,y2:g}));if(b.points.length>0){var S=0,x=0,k=b.points[0].x,w=b.points[0].y,O=1;if(k>y&&k<v){var T=w-g;O=w<g?-1:1,x=d.height*O,x*=Math.min(Math.abs(T),1)}if(w>m&&w<f){var j=k-u;O=k<u?-1:1,S=d.width*O,S*=Math.min(Math.abs(j),1)}i.xOff=u-k-(o?S/1.25:0),i.yOff=g-w-(o?x/1.25:0),i.intersect=b.points[0]}return i}}},{key:"getCircleIntersect",value:function(e,t,a){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,i=n.getDefaultIntersectResponse(),d=n.getArrowSize(r),s=d.width,c=d.height,l=e.getBoundingClientRect(),u=e.parentElement,g=u.getAttribute("width"),p=u.getAttribute("width");g&&(g=parseFloat(g)),p&&(p=parseFloat(p));var h=g||l.width,m=p||l.height,f=a.x||0,y=a.y||0,v=t.x||0,E=t.y||0,N=1.25,b=h/2+(o?s/N:0),S=m/2+(o?c/N:0),x=Object(A.intersect)(Object(A.shape)("ellipse",{rx:b,ry:S,cx:f,cy:y}),Object(A.shape)("line",{x1:v,y1:E,x2:f,y2:y}));if(x.points.length>0){var k=x.points[0].x,w=x.points[0].y;i.xOff=f-k,i.yOff=y-w,i.intersect=x.points[0]}return i}},{key:"calculateOffset",value:function(e,t,a,o){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:document,d=n.getDefaultIntersectResponse();if(null==a[o])return d;var s=document.getElementById("node-".concat(a[o]));if(!s)return d;var c=s.querySelector("use.node");if(!c||c&&!c.getAttributeNS)return d;var l=c.getAttributeNS("http://www.w3.org/1999/xlink","href");if(!l)return d;var u=i.querySelector("defs>".concat(l," rect:not([data-intersect-ignore=true])")),g=u?null:i.querySelector("defs>".concat(l," path:not([data-intersect-ignore=true])")),p=g||g?null:i.querySelector("defs>".concat(l," circle:not([data-intersect-ignore=true]), defs>").concat(l," ellipse:not([data-intersect-ignore=true]), defs>").concat(l," polygon:not([data-intersect-ignore=true])"));return d=u?Object(m.a)({},d,{},n.getRotatedRectIntersect(u,t,a,r,i)):g?Object(m.a)({},d,{},n.getPathIntersect(g,t,a,r,i)):Object(m.a)({},d,{},n.getCircleIntersect(p,t,a,r,i))}},{key:"getXlinkHref",value:function(e,t){return t.type&&e[t.type]?e[t.type].shapeId:e.emptyEdge?e.emptyEdge.shapeId:null}}]),Object(v.a)(n,[{key:"getPathDescription",value:function(e){var t=this.props,a=t.sourceNode,o=t.targetNode,r=t.nodeKey,i=t.nodeSize,d=t.viewWrapperElem,s=o&&o.x?o.x:0,c=o&&o.y?o.y:0,l=o&&a.x?a.x:0,u=o&&a.y?a.y:0,g=n.calculateOffset(i||0,o,a,r,!1,d),p=n.calculateOffset(i||0,a,o,r,!0,d),h=[{x:l-g.xOff,y:u-g.yOff},{x:s-p.xOff,y:c-p.yOff}];return n.lineFunction(h)}},{key:"renderHandleText",value:function(e){return a.createElement("text",{className:"edge-text",textAnchor:"middle",alignmentBaseline:"central",transform:"".concat(this.getEdgeHandleTranslation())},e.handleText)}},{key:"renderLabelText",value:function(e){var t=this.getEdgeHandleRotation(),n=Object(g.a)(t,2),o=n[0],r=n[1]?"".concat(e.label_to," \u2194 ").concat(e.label_from):"".concat(e.label_from," \u2194 ").concat(e.label_to);return a.createElement("text",{className:"edge-text",textAnchor:"middle",alignmentBaseline:"central",style:{fontSize:"11px",stroke:"none",fill:"black"},transform:"".concat(this.getEdgeHandleTranslation()," ").concat(o," translate(0,-5)")},r)}},{key:"render",value:function(){var e=this.props,t=e.data,o=e.edgeTypes,r=e.edgeHandleSize;if(!e.viewWrapperElem)return null;var i="".concat(null!=t.source?t.source:"","_").concat(t.target),d=K.classNames("edge",{selected:this.props.isSelected}),s=this.getEdgeHandleTransformation();return a.createElement("g",{className:"edge-container","data-source":t.source,"data-target":t.target},a.createElement("g",{className:d},a.createElement("path",{className:"edge-path",d:this.getPathDescription(t)||void 0}),a.createElement("use",{xlinkHref:n.getXlinkHref(o,t),width:r,height:r,transform:s,style:{transform:s}}),t.handleText&&this.renderHandleText(t),t.label_from&&t.label_to&&this.renderLabelText(t)),a.createElement("g",{className:"edge-mouse-handler"},a.createElement("title",null,t.handleTooltipText),a.createElement("path",{className:"edge-overlay-path",ref:this.edgeOverlayRef,id:i,"data-source":t.source,"data-target":t.target,d:this.getPathDescription(t)||void 0})))}}]),n}(a.Component);U.defaultProps={edgeHandleSize:50,isSelected:!1,rotateEdgeHandle:!0};var W=U;n(421),n(433);function G(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z"}))}var V=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(y.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).zoom=function(t){var n=e.props,a=n.minZoom,o=n.maxZoom,r=t.target.value,i=e.sliderToZoom(r),d=i-e.props.zoomLevel;i<=(o||0)&&i>=(a||0)&&e.props.modifyZoom(d)},e}return Object(v.a)(n,[{key:"sliderToZoom",value:function(e){var t=this.props,n=t.minZoom;return e*((t.maxZoom||0)-(n||0))/100+(n||0)}},{key:"zoomToSlider",value:function(e){var t=this.props,n=t.minZoom;return 100*(e-(n||0))/((t.maxZoom||0)-(n||0))}},{key:"render",value:function(){return o.a.createElement("div",{className:"graph-controls"},o.a.createElement("div",{className:"slider-wrapper"},o.a.createElement("span",null,"-"),o.a.createElement("input",{type:"range",className:"slider",min:this.zoomToSlider(this.props.minZoom||0),max:this.zoomToSlider(this.props.maxZoom||0),value:this.zoomToSlider(this.props.zoomLevel),onChange:this.zoom,step:"1"}),o.a.createElement("span",null,"+")),o.a.createElement("button",{type:"button",className:"slider-button",onMouseDown:this.props.zoomToFit},o.a.createElement(G,null)))}}]),n}(o.a.Component);V.defaultProps={maxZoom:1.5,minZoom:.15};var _=V,q=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"getTypeText",value:function(e,t){return e.type&&t[e.type]?t[e.type].typeText:t.emptyNode?t.emptyNode.typeText:null}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.nodeTypes,o=e.isSelected,r=(e.maxTitleChars,t.title),i=K.classNames("node-text",{selected:o});this.getTypeText(t,n);return a.createElement("text",{className:i,textAnchor:"middle",alignmentBaseline:"baseline"},!!r&&a.createElement("tspan",{opacity:"1"},r),r&&a.createElement("title",null,r))}}]),n}(a.Component),X=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).handleMouseMove=function(e){var t=1===e.sourceEvent.buttons,n=e.sourceEvent.shiftKey,a=o.props,r=a.nodeSize,i=a.layoutEngine,d=a.nodeKey,s=a.viewWrapperElem,c=a.data,l=o.state.pointerOffset;if(t){var u={x:e.x,y:e.y,pointerOffset:l};if(o.props.centerNodeOnMove||(u.pointerOffset=l||{x:e.x-(c.x||0),y:e.y-(c.y||0)},u.x-=u.pointerOffset.x,u.y-=u.pointerOffset.y),n){o.setState({drawingEdge:!0});var g=W.calculateOffset(r,o.props.data,u,d,!0,s);u.x+=g.xOff,u.y+=g.yOff}else!o.state.drawingEdge&&i&&Object.assign(u,i.getPositionForNode(u));o.setState(u),o.props.onNodeMove(u,o.props.data[d],n)}},o.handleDragStart=function(){o.nodeRef.current&&(o.oldSibling||(o.oldSibling=o.nodeRef.current.parentElement.nextSibling),o.nodeRef.current.parentElement.parentElement.appendChild(o.nodeRef.current.parentElement))},o.handleDragEnd=function(e){if(o.nodeRef.current){var t=o.state,n=t.x,a=t.y,r=t.drawingEdge,i=o.props,d=i.data,s=i.nodeKey,c=i.onNodeSelected,l=i.onNodeUpdate,u=e.sourceEvent;o.setState({mouseDown:!1,drawingEdge:!1,pointerOffset:null}),o.oldSibling&&o.oldSibling.parentElement&&o.oldSibling.parentElement.insertBefore(o.nodeRef.current.parentElement,o.oldSibling);var g=u.shiftKey;l({x:n,y:a},d[s],g||r),c(d,d[s],g||r,u)}},o.handleMouseOver=function(e){var t=!1;e&&1!==e.buttons&&(t=!0,o.setState({hovered:t})),o.props.onNodeMouseEnter(e,o.props.data,t)},o.handleMouseOut=function(e){o.setState({hovered:!1}),o.props.onNodeMouseLeave(e,o.props.data)},o.state={drawingEdge:!1,hovered:!1,mouseDown:!1,selected:!1,x:e.data.x||0,y:e.data.y||0,pointerOffset:null},o.nodeRef=a.createRef(),o}return Object(v.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return{selected:e.isSelected,x:e.data.x,y:e.data.y}}}]),Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=b.a().on("drag",(function(){e.handleMouseMove(b.b)})).on("start",this.handleDragStart).on("end",(function(){e.handleDragEnd(b.b)}));b.e(this.nodeRef.current).on("mouseout",this.handleMouseOut).call(t)}},{key:"renderShape",value:function(){var e=this.props,t=e.renderNode,o=e.data,r=e.nodeTypes,i=e.nodeSubtypes,d=e.nodeKey,s=this.state,c=s.hovered,l=s.selected,u={height:this.props.nodeSize||0,width:this.props.nodeSize||0},g=K.classNames("shape"),p=K.classNames("node",{selected:l,hovered:c}),h=K.classNames("subtype-shape",{selected:this.state.selected}),m=n.getNodeTypeXlinkHref(o,r)||"",f=n.getNodeSubtypeXlinkHref(o,i)||"",y=m?document.querySelector("defs>".concat(m)):null,v=y?y.getAttribute("width"):0,E=y?y.getAttribute("height"):0;return u.width=v?parseInt(v,10):u.width,u.height=E?parseInt(E,10):u.height,t?t(this.nodeRef,o,o[d],l,c):a.createElement("g",Object.assign({className:g},u),!!o.subtype&&a.createElement("use",{className:h,x:-u.width/2,y:-u.height/2,width:u.width,height:u.height,xlinkHref:f}),a.createElement("use",{className:p,x:-u.width/2,y:-u.height/2,width:u.width,height:u.height,xlinkHref:m}))}},{key:"renderText",value:function(){var e=this.props,t=e.data,n=e.id,o=e.nodeTypes,r=e.renderNodeText,i=e.isSelected,d=e.maxTitleChars;return r?r(t,n,i):a.createElement(q,{data:t,nodeTypes:o,isSelected:this.state.selected,maxTitleChars:d})}},{key:"render",value:function(){var e=this.state,t=e.x,n=e.y,o=e.hovered,r=e.selected,i=this.props,d=i.opacity,s=i.id,c=i.data,l=K.classNames("node",c.type,{hovered:o,selected:r});return a.createElement("g",{className:l,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,id:s,ref:this.nodeRef,opacity:d,transform:"translate(".concat(t,", ").concat(n,")"),style:{transform:"matrix(1, 0, 0, 1, ".concat(t,", ").concat(n,")")}},this.renderShape(),this.renderText())}}],[{key:"getNodeTypeXlinkHref",value:function(e,t){return e.type&&t[e.type]?t[e.type].shapeId:t.emptyNode?t.emptyNode.shapeId:null}},{key:"getNodeSubtypeXlinkHref",value:function(e,t){return e.subtype&&t&&t[e.subtype]?t[e.subtype].shapeId:t&&t.emptyNode?t.emptyNode.shapeId:null}}]),n}(a.Component);X.defaultProps={isSelected:!1,nodeSize:154,maxTitleChars:12,onNodeMouseEnter:function(){},onNodeMouseLeave:function(){},onNodeMove:function(){},onNodeSelected:function(){},onNodeUpdate:function(){},centerNodeOnMove:!0};var J=X,$=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).removeOldEdges=function(e,t){for(var n=null,a=0;a<e.length;a++)null!=(n=e[a]).source&&null!=n.target&&t["".concat(n.source,"_").concat(n.target)]||o.removeEdgeElement(n.source,n.target)},o.handleDelete=function(e){var t=o.props,n=t.canDeleteNode,a=t.canDeleteEdge;!t.readOnly&&e&&(null==e.source&&n&&n(e)?o.deleteNode(e):null!=e.source&&a&&a(e)&&o.deleteEdge(e))},o.handleWrapperKeydown=function(e){var t=o.props,n=t.selected,a=t.onUndo,r=t.onCopySelected,i=t.onPasteSelected,d=o.state,s=d.focused,c=d.selectedNodeObj;if(s)switch(e.key){case"Delete":case"Backspace":c&&o.handleDelete(c.node||n);break;case"z":(e.metaKey||e.ctrlKey)&&a&&a();break;case"c":(e.metaKey||e.ctrlKey)&&c.node&&r&&r();break;case"v":(e.metaKey||e.ctrlKey)&&c.node&&i&&i()}},o.handleEdgeSelected=function(e){var t=e.target.dataset,n=t.source,a=t.target,r={svgClicked:!0,focused:!0};if(null!=n&&null!=a){if(null==o.getEdgeBySourceTarget(n,a))return;var i=o.getEdgeBySourceTarget(n,a).originalArrIndex;r=Object(m.a)({},r,{selectedEdgeObj:{componentUpToDate:!1,edge:o.state.edges[i]}}),o.setState(r),o.props.onSelectEdge(o.state.edges[i])}else o.setState(r)},o.handleSvgClicked=function(e,t){var n=o.props,a=n.onBackgroundClick,r=n.onSelectNode,i=n.readOnly,d=n.onCreateNode;if(o.isPartOfEdge(b.b.target))o.handleEdgeSelected(b.b);else if(o.state.selectingNode)o.setState({focused:!0,selectingNode:!1,svgClicked:!0});else{if(!b.b.shiftKey&&a&&b.b.target.classList.contains("background")){var s=b.d(b.b.target);a(s[0],s[1],b.b)}var c=o.state.selectedNodeObj&&o.state.selectedNodeObj.node||null;if(o.setState({selectedNodeObj:null,focused:!0,svgClicked:!0}),r(null),c&&o.syncRenderNode(c),!i&&b.b.shiftKey){var l=b.d(b.b.target);d(l[0],l[1],b.b)}}},o.handleDocumentClick=function(e){e&&e.target&&null!=e.target.ownerSVGElement&&e.target.ownerSVGElement===o.graphSvg.current||o.setState({documentClicked:!0,focused:!1,svgClicked:!1})},o.handleNodeMove=function(e,t,n){var a=o.props,r=a.canCreateEdge,i=a.readOnly,d=o.getNodeById(t);if(d){var s=d.node;i||(n||o.state.draggingEdge?(r&&r(t)||o.state.draggingEdge)&&(o.syncRenderEdge({source:t,targetPosition:e}),o.setState({draggingEdge:!0})):(s.x=e.x,s.y=e.y,o.renderConnectedEdgesFromNode(d,!0),o.asyncRenderNode(s)))}},o.handleNodeUpdate=function(e,t,n){var a=o.props,r=a.onUpdateNode;if(!a.readOnly){if(n)o.createNewEdge();else{var i=o.getNodeById(t);i&&(Object.assign(i.node,e),r(i.node))}o.setState({componentUpToDate:!1,focused:!0,hoveredNode:!1,svgClicked:!0})}},o.handleNodeMouseEnter=function(e,t,n){n&&!o.state.hoveredNode?o.setState({hoveredNode:!0,hoveredNodeData:t}):!n&&o.state.hoveredNode&&o.state.draggingEdge?o.setState({edgeEndNode:t}):o.setState({hoveredNode:!0,hoveredNodeData:t})},o.handleNodeMouseLeave=function(e,t){if(!(b.b&&b.b.toElement&&K.findParent(b.b.toElement,".node")||e&&e.relatedTarget&&K.findParent(e.relatedTarget,".node")||b.b&&1===b.b.buttons||e&&1===e.buttons)&&e&&e.relatedTarget){if(e.relatedTarget.classList.contains("edge-overlay-path"))return;o.setState({hoveredNode:!1,edgeEndNode:null})}},o.handleNodeSelected=function(e,t,n,a){var r={componentUpToDate:!1,selectedNodeObj:{nodeId:t,node:e}};o.setState(r),n||o.props.onSelectNode(e,a)},o.handleZoomStart=function(e){var t=e.sourceEvent;if(o.props.readOnly||!t||t&&!t.buttons||t&&!t.target.classList.contains("edge-overlay-path"))return!1;var n=t.target.id,a=o.state.edgesMap&&o.state.edgesMap[n]?o.state.edgesMap[n].edge:null;if(!o.isArrowClicked(a)||!a)return!1;o.removeEdgeElement(a.source,a.target),o.setState({draggingEdge:!0,draggedEdge:a}),o.dragEdge(a,b.d)},o.handleZoom=function(e){var t=o.state.draggingEdge,n=e.transform;if(t){if(t)return o.dragEdge(void 0,b.d),!1}else b.e(o.view).attr("transform",n),o.state.viewTransform!==n&&o.setState({viewTransform:n,draggedEdge:null,draggingEdge:!1},(function(){o.renderGraphControls()}))},o.handleZoomEnd=function(){var e=o.state,t=e.draggingEdge,n=e.draggedEdge,a=e.edgeEndNode,r=o.props.nodeKey;if(t&&n){var i=Object(m.a)({},o.state.draggedEdge);K.removeElementFromDom("edge-custom-container"),o.setState({draggedEdge:null,draggingEdge:!1,hoveredNode:!1},(function(){var e=o.getNodeById(n.source),t=o.getNodeById(n.target);if(e&&t){var d=e.node;a&&!o.getEdgeBySourceTarget(n.source,a[r])&&o.canSwap(d,a,n)?(i.target=a[r],o.syncRenderEdge(i),o.props.onSwapEdge(e.node,a,n)):o.syncRenderEdge(n)}}))}else t&&!n&&o.setState({draggingEdge:!1})},o.handleZoomToFit=function(){var e=b.e(o.entities).node();if(e){var t=e.getBBox?e.getBBox():null;t&&o.handleZoomToFitImpl(t,o.props.zoomDur)}},o.handleZoomToFitImpl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o.viewWrapper.current){var n=b.e(o.viewWrapper.current).node(),a=n.clientWidth,r=n.clientHeight,i=o.props.minZoom||0,d=o.props.maxZoom||2,s={k:(i+d)/2,x:0,y:0};if(e.width>0&&e.height>0){var c=e.width,l=e.height,u=e.x+e.width/2,g=e.y+e.height/2;s.k=.9/Math.max(c/a,l/r),s.k<i?s.k=i:s.k>d&&(s.k=d),s.x=a/2-s.k*u,s.y=r/2-s.k*g}o.setZoom(s.k,s.x,s.y,t)}},o.modifyZoom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=b.e(o.viewWrapper.current).node(),i={x:r.clientWidth/2,y:r.clientHeight/2},d=o.zoom.scaleExtent(),s=o.state.viewTransform,c={k:s.k,x:s.x,y:s.y},l=c.k*(1+e);if(c.k=l,l<d[0]||l>d[1])return!1;var u={x:(i.x-c.x)/c.k,y:(i.y-c.y)/c.k},g={x:u.x*c.k+c.x,y:u.y*c.k+c.y};return c.x+=i.x-g.x+t,c.y+=i.y-g.y+n,o.setZoom(c.k,c.x,c.y,a),!0},o.getNodeComponent=function(e,t){var n=o.props,r=n.nodeTypes,i=n.nodeSubtypes,d=n.nodeSize,s=n.renderNode,c=n.renderNodeText,l=n.nodeKey,u=n.maxTitleChars;return a.createElement(J,{key:e,id:e,data:t,nodeTypes:r,nodeSize:d,nodeKey:l,nodeSubtypes:i,onNodeMouseEnter:o.handleNodeMouseEnter,onNodeMouseLeave:o.handleNodeMouseLeave,onNodeMove:o.handleNodeMove,onNodeUpdate:o.handleNodeUpdate,onNodeSelected:o.handleNodeSelected,renderNode:s,renderNodeText:c,isSelected:o.state.selectedNodeObj.node===t,layoutEngine:o.layoutEngine,viewWrapperElem:o.viewWrapper.current,centerNodeOnMove:o.props.centerNodeOnMove,maxTitleChars:u})},o.renderNodes=function(){o.entities&&o.state.nodes.forEach((function(e,t){o.asyncRenderNode(e)}))},o.isEdgeSelected=function(e){return!!o.state.selectedEdgeObj&&!!o.state.selectedEdgeObj.edge&&o.state.selectedEdgeObj.edge.source===e.source&&o.state.selectedEdgeObj.edge.target===e.target},o.getEdgeComponent=function(e){var t=o.getNodeById(e.source),n=t?t.node:null,r=o.getNodeById(e.target),i=r?r.node:null,d=e.targetPosition,s=o.props,c=s.edgeTypes,l=s.edgeHandleSize,u=s.nodeSize,g=s.nodeKey;return a.createElement(W,{data:e,edgeTypes:c,edgeHandleSize:l,nodeSize:u,sourceNode:n,targetNode:i||d,nodeKey:g,viewWrapperElem:o.viewWrapper.current,isSelected:o.isEdgeSelected(e),rotateEdgeHandle:o.props.rotateEdgeHandle})},o.renderEdge=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!o.entities)return null;var r="".concat(e,"-container"),d="".concat(e,"-custom-container"),s=o.state.draggedEdge,c=o.props.afterRenderEdge,l=document.getElementById(r);if(a&&l)l.style.display="none",r="".concat(e,"-custom-container"),l=document.getElementById(r);else if(l){var u=document.getElementById(d);l.style.display="",u&&u.remove()}if(!l&&n!==s){var g=document.createElementNS("http://www.w3.org/2000/svg","g");g.id=r,o.entities.appendChild(g),l=g}return l&&(i.a.render(t,l),c)?c(e,t,n,l,o.isEdgeSelected(n)):void 0},o.asyncRenderEdge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e.source&&null!=e.target){var n="edges-".concat(e.source,"-").concat(e.target);cancelAnimationFrame(o.edgeTimeouts[n]),o.edgeTimeouts[n]=requestAnimationFrame((function(){o.syncRenderEdge(e,t)}))}},o.renderEdges=function(){var e=o.state,t=e.edges,n=e.draggingEdge;if(o.entities&&!n)for(var a=0;a<t.length;a++)o.asyncRenderEdge(t[a])},o.nodeTimeouts={},o.edgeTimeouts={},o.renderNodesTimeout=null,o.renderEdgesTimeout=null,o.viewWrapper=a.createRef(),o.graphControls=a.createRef(),o.graphSvg=a.createRef(),e.layoutEngineType&&(o.layoutEngine=new O[e.layoutEngineType](e)),o.state={componentUpToDate:!1,draggedEdge:null,draggingEdge:!1,edgeEndNode:null,edges:[],edgesMap:{},hoveredNode:!1,hoveredNodeData:null,nodes:[],nodesMap:{},selectedEdgeObj:null,selectedNodeObj:null,selectingNode:!1,documentClicked:!1,svgClicked:!1,focused:!0},o}return Object(v.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.edges,a=e.nodeKey,o=e.nodes,r=K.getNodesMap(o,a),i=K.getEdgesMap(n);K.linkNodesAndEdges(r,n);var d=e.selected&&r["key-".concat(e.selected[a])]?r["key-".concat(e.selected[a])]:null,s=e.selected&&i["".concat(e.selected.source,"_").concat(e.selected.target)]?i["".concat(e.selected.source,"_").concat(e.selected.target)]:null;0===t.nodes.length&&e.layoutEngineType&&O[e.layoutEngineType]&&(o=new O[e.layoutEngineType](e).adjustNodes(o,r));return{componentUpToDate:!0,edges:n,edgesMap:i,nodes:o,nodesMap:r,readOnly:e.readOnly,selectedEdgeObj:{edge:s?s.edge:null},selectedNodeObj:{nodeId:d?e.selected[a]:null,node:d?d.node:null},selectionChanged:!1}}}]),Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.initialBBox,a=t.zoomDelay,o=t.minZoom,r=t.maxZoom;if(document.addEventListener("keydown",this.handleWrapperKeydown),document.addEventListener("click",this.handleDocumentClick),this.zoom=b.f().filter(this.zoomFilter).scaleExtent([o||0,r||0]).on("start",(function(){e.handleZoomStart(b.b)})).on("zoom",(function(){e.handleZoom(b.b)})).on("end",this.handleZoomEnd),b.e(this.viewWrapper.current).on("touchstart",this.containZoom).on("touchmove",this.containZoom).on("click",this.handleSvgClicked).select("svg").call(this.zoom),this.selectedView=b.e(this.view),n)return this.handleZoomToFitImpl(n,0),void this.renderView();this.renderView(),setTimeout((function(){null!=e.viewWrapper.current&&e.handleZoomToFit()}),a)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleWrapperKeydown),document.removeEventListener("click",this.handleDocumentClick)}},{key:"shouldComponentUpdate",value:function(e,t){return e.nodes!==this.props.nodes||e.edges!==this.props.edges||!t.componentUpToDate||e.selected!==this.props.selected||e.readOnly!==this.props.readOnly||e.layoutEngineType!==this.props.layoutEngineType}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.nodesMap,o=n.edgesMap,r=n.nodes,i=n.selectedNodeObj,d=n.selectedEdgeObj,s=this.props.layoutEngineType;if(s&&O[s]){this.layoutEngine=new O[s](this.props);var c=this.layoutEngine.adjustNodes(r,a);this.setState({nodes:c})}var l=e.layoutEngineType!==s;this.removeOldEdges(t.edges,o),this.removeOldNodes(t.nodes,t.nodesMap,a),this.addNewNodes(this.state.nodes,t.nodesMap,i,t.selectedNodeObj,l),this.addNewEdges(this.state.edges,t.edgesMap,d,t.selectedEdgeObj,l),this.setState({componentUpToDate:!0})}},{key:"getNodeById",value:function(e,t){var n=t||this.state.nodesMap;return n?n["key-".concat(null!=e?e:"")]:null}},{key:"getEdgeBySourceTarget",value:function(e,t){return this.state.edgesMap?this.state.edgesMap["".concat(e,"_").concat(t)]:null}},{key:"deleteEdgeBySourceTarget",value:function(e,t){this.state.edgesMap&&this.state.edgesMap["".concat(e,"_").concat(t)]&&delete this.state.edgesMap["".concat(e,"_").concat(t)]}},{key:"addNewNodes",value:function(e,t,n,a){var o=this,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this.state.draggingEdge){var i=this.props.nodeKey,d=null,s=null;K.yieldingLoop(e.length,50,(function(c){d=e[c],null!=(s=o.getNodeById(d[i],t))&&(!K.isEqual(s.node,d)||n.node!==a.node&&(n.node&&d[i]===n.node[i]||a.node&&d[i]===a.node[i]))?o.asyncRenderNode(d):!r&&s||o.asyncRenderNode(d)}))}}},{key:"removeOldNodes",value:function(e,t,n){for(var a=this,o=this.props.nodeKey,r=function(r){var i=e[r][o];if(a.getNodeById(i,n))return"continue";var d=a.getNodeById(i,t);d.outgoingEdges.forEach((function(e){a.removeEdgeElement(e.source,e.target)})),d.incomingEdges.forEach((function(e){a.removeEdgeElement(e.source,e.target)})),setTimeout((function(){K.removeElementFromDom("node-".concat(i,"-container"))}))},i=0;i<e.length;i++)r(i)}},{key:"addNewEdges",value:function(e,t,n,a){var o=this,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!this.state.draggingEdge){var i=null;K.yieldingLoop(e.length,50,(function(d){if(null!=(i=e[d]).source&&null!=!i.target){var s=t["".concat(i.source,"_").concat(i.target)];(r||!s||!K.isEqual(s.edge,i)||n.edge&&i===n.edge||a.edge&&a.edge)&&o.asyncRenderEdge(i)}}))}}},{key:"removeEdgeElement",value:function(e,t){var n="".concat(e,"-").concat(t);K.removeElementFromDom("edge-".concat(n,"-container"))}},{key:"canSwap",value:function(e,t,n){return t&&e!==t&&(n.source!==e[this.props.nodeKey]||n.target!==t[this.props.nodeKey])}},{key:"deleteNode",value:function(e){var t=this.props.nodeKey,n=this.state.nodes,a=e[t],o=n.filter((function(e){return e[t]!==a}));this.setState({componentUpToDate:!1,hoveredNode:!1}),K.removeElementFromDom("node-".concat(a,"-container")),this.props.onSelectNode(null),this.props.onDeleteNode(e,a,o)}},{key:"deleteEdge",value:function(e){var t=this.state.edges;if(null!=e.source&&null!=e.target){var n=t.filter((function(t){return!(t.source===e.source&&t.target===e.target)}));null!=e.source&&null!=e.target&&this.deleteEdgeBySourceTarget(e.source,e.target),this.setState({componentUpToDate:!1,edges:n}),null!=e.source&&null!=e.target&&(K.removeElementFromDom("edge-".concat(e.source,"-").concat(e.target,"-custom-container")),K.removeElementFromDom("edge-".concat(e.source,"-").concat(e.target,"-container"))),this.props.onDeleteEdge(e,n)}}},{key:"isPartOfEdge",value:function(e){return!!K.findParent(e,".edge-container")}},{key:"createNewEdge",value:function(){var e=this.props,t=e.canCreateEdge,n=e.nodeKey,a=e.onCreateEdge,o=this.state,r=o.edgesMap,i=o.edgeEndNode,d=o.hoveredNodeData;if(d&&(K.removeElementFromDom("edge-custom-container"),i)){var s="".concat(d[n],"_").concat(i[n]),c="".concat(i[n],"_").concat(d[n]);r&&d!==i&&t&&t(d,i)&&!r[s]&&!r[c]?(this.setState({componentUpToDate:!1,draggedEdge:null,draggingEdge:!1}),a(d,i)):this.setState({edgeEndNode:null,draggingEdge:!1})}}},{key:"isArrowClicked",value:function(e){var t=this.props.edgeArrowSize,n=b.b.sourceEvent.target,a=t||0;if(!e||"path"!==n.tagName)return!1;var o=b.d(n);if(null==e.target)return!1;var r=o[0],i=o[1],d=W.parsePathToXY(W.getEdgePathElement(e,this.viewWrapper.current));return r<d.target.x+a&&r>d.target.x-a&&i<d.target.y+a&&i>d.target.y-a}},{key:"zoomFilter",value:function(){return!b.b.button&&!b.b.ctrlKey}},{key:"containZoom",value:function(){(b.b.button||b.b.ctrlKey)&&b.b.stopImmediatePropagation()}},{key:"getMouseCoordinates",value:function(e){var t=[0,0];return this.selectedView&&e&&(t=e(this.selectedView.node())),t}},{key:"dragEdge",value:function(e,t){var n=this.props,a=n.nodeSize,o=n.nodeKey;if(e=e||this.state.draggedEdge){var r=this.getMouseCoordinates(t),i={x:r[0],y:r[1]},d=W.calculateOffset(a,this.getNodeById(e.source).node,i,o);i.x+=d.xOff,i.y+=d.yOff,this.syncRenderEdge({source:e.source,targetPosition:i}),this.setState({draggedEdge:e,draggingEdge:!0})}}},{key:"setZoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=b.g.translate(t,n).scale(e);b.e(this.viewWrapper.current).select("svg").transition().duration(a).call(this.zoom.transform,o)}},{key:"renderView",value:function(){this.selectedView.attr("transform",this.state.viewTransform),clearTimeout(this.renderNodesTimeout),this.renderNodesTimeout=setTimeout(this.renderNodes)}},{key:"asyncRenderNode",value:function(e){var t=this,n=this.props.nodeKey,a="nodes-".concat(e[n]);cancelAnimationFrame(this.nodeTimeouts[a]),this.nodeTimeouts[a]=requestAnimationFrame((function(){t.syncRenderNode(e)}))}},{key:"syncRenderNode",value:function(e){var t=this.props.nodeKey,n="node-".concat(e[t]),a=this.getNodeComponent(n,e),o=this.getNodeById(e[t]);this.renderNode(n,a),o&&this.renderConnectedEdgesFromNode(o)}},{key:"renderNode",value:function(e,t){if(!this.entities)return null;var n="".concat(e,"-container"),a=document.getElementById(n);a||((a=document.createElementNS("http://www.w3.org/2000/svg","g")).id=n,this.entities.appendChild(a));var o=t;i.a.render(o,a)}},{key:"renderConnectedEdgesFromNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state.draggingEdge||(e.incomingEdges.forEach((function(e){t.asyncRenderEdge(e,n)})),e.outgoingEdges.forEach((function(e){t.asyncRenderEdge(e,n)})))}},{key:"syncRenderEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e.source){var n=null!=e.target?"".concat(e.source,"-").concat(e.target):"custom",a="edge-".concat(n),o=this.getEdgeComponent(e);this.renderEdge(a,o,e,t)}}},{key:"renderGraphControls",value:function(){var e=this.props,t=e.showGraphControls,n=e.minZoom,o=e.maxZoom,r=this.state.viewTransform;if(t&&this.viewWrapper){var d=this.viewWrapper.current.ownerDocument.getElementById("react-digraph-graph-controls-wrapper");d&&i.a.render(a.createElement(_,{ref:this.graphControls,minZoom:n,maxZoom:o,zoomLevel:r?r.k:1,zoomToFit:this.handleZoomToFit,modifyZoom:this.modifyZoom}),d)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.edgeArrowSize,o=t.gridSpacing,r=t.gridDotSize,i=t.nodeTypes,d=t.nodeSubtypes,s=t.edgeTypes,c=t.renderDefs,l=t.gridSize,u=t.backgroundFillId,g=t.renderBackground;return a.createElement("div",{className:"view-wrapper",ref:this.viewWrapper},a.createElement("svg",{className:"graph",ref:this.graphSvg},a.createElement(P,{edgeArrowSize:n,gridSpacing:o,gridDotSize:r,nodeTypes:i,nodeSubtypes:d,edgeTypes:s,renderDefs:c}),a.createElement("g",{className:"view",ref:function(t){return e.view=t}},a.createElement(j,{gridSize:l,backgroundFillId:u,renderBackground:g}),a.createElement("g",{className:"entities",ref:function(t){return e.entities=t}}))),a.createElement("div",{id:"react-digraph-graph-controls-wrapper",className:"graph-controls-wrapper"}))}},{key:"panToEntity",value:function(e,t){var n=this.state.viewTransform,a=this.viewWrapper.current,o=e?e.getBBox():null,r=this.props.maxZoom||2;if(a&&o){var i=a.clientWidth,d=a.clientHeight,s={k:n.k,x:0,y:0},c=o.x+o.width/2,l=o.y+o.height/2;t&&(s.k=.9/Math.max(o.width/i,o.height/d),s.k>r&&(s.k=r)),s.x=i/2-s.k*c,s.y=d/2-s.k*l,this.setZoom(s.k,s.x,s.y,this.props.zoomDur)}}},{key:"panToNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.entities){var n=this.entities.querySelector("#node-".concat(e,"-container"));this.panToEntity(n,t)}}},{key:"panToEdge",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.entities){var a=this.entities.querySelector("#edge-".concat(e,"-").concat(t,"-container"));this.panToEntity(a,n)}}}]),n}(a.Component);$.defaultProps={canCreateEdge:function(e,t){return!0},canDeleteEdge:function(){return!0},canDeleteNode:function(){return!0},edgeArrowSize:8,gridSpacing:36,layoutEngineType:"None",maxZoom:1.5,minZoom:.15,nodeSize:154,readOnly:!1,showGraphControls:!0,zoomDelay:1e3,zoomDur:750,rotateEdgeHandle:!0,centerNodeOnMove:!0};var Y=$,Q="special",ee=["customEmpty","poly",Q,"skinny"],te=["emptyEdge","specialEdge"],ne=a.createElement("symbol",{viewBox:"0 0 154 154",width:"154",height:"154",id:"emptyNode"},a.createElement("circle",{cx:"77",cy:"77",r:"76"})),ae=a.createElement("symbol",{viewBox:"0 0 100 100",id:"customEmpty"},a.createElement("circle",{cx:"50",cy:"50",r:"45"})),oe=a.createElement("symbol",{viewBox:"-27 0 154 154",id:"special",width:"154",height:"154"},a.createElement("rect",{transform:"translate(50) rotate(45)",width:"109",height:"109"})),re=a.createElement("symbol",{viewBox:"0 0 88 72",id:"poly",width:"88",height:"88"},a.createElement("path",{d:"M 0 36 18 0 70 0 88 36 70 72 18 72Z"})),ie=a.createElement("symbol",{viewBox:"0 0 100 100",id:"complexCircle",width:"100",height:"100"},a.createElement("circle",{cx:"50",cy:"50",r:"50",fill:"transparent",stroke:"transparent"}),a.createElement("circle",{cx:"50",cy:"50",r:"34"}),a.createElement("path",{d:"M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0Zm0,90A40,40,0,1,1,90,50,40,40,0,0,1,50,90Z","data-intersect-ignore":"true"})),de=a.createElement("symbol",{viewBox:"0 0 154 54",width:"154",height:"54",id:"skinny"},a.createElement("rect",{x:"0",y:"0",rx:"2",ry:"2",width:"154",height:"54"})),se=a.createElement("symbol",{viewBox:"0 0 154 154",id:"specialChild"},a.createElement("rect",{x:"2.5",y:"0",width:"154",height:"154",fill:"rgba(30, 144, 255, 0.12)"})),ce={EdgeTypes:{emptyEdge:{shape:a.createElement("symbol",{viewBox:"0 0 50 50",id:"emptyEdge"},a.createElement("circle",{cx:"25",cy:"25",r:"8",fill:"currentColor"})),shapeId:"#emptyEdge"},specialEdge:{shape:a.createElement("symbol",{viewBox:"0 0 50 50",id:"specialEdge"},a.createElement("rect",{transform:"rotate(45)",x:"27.5",y:"-7.5",width:"15",height:"15",fill:"currentColor"})),shapeId:"#specialEdge"}},NodeSubtypes:{specialChild:{shape:se,shapeId:"#specialChild"}},NodeTypes:{emptyNode:{shape:ne,shapeId:"#emptyNode",typeText:"None"},empty:{shape:ae,shapeId:"#empty",typeText:"None"},special:{shape:oe,shapeId:"#special",typeText:"Special"},skinny:{shape:de,shapeId:"#skinny",typeText:"Skinny"},poly:{shape:re,shapeId:"#poly",typeText:"Poly"},complexCircle:{shape:ie,shapeId:"#complexCircle",typeText:"#complexCircle"}}},le={edges:[],nodes:[]},ue=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a){var o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/fetchArtistMap",{method:"post",body:JSON.stringify({artist1:t,artist2:n,token:a,numRelated:5}),headers:{"Content-Type":"application/json"}});case 2:return o=e.sent,e.next=5,o.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a){var o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/expandArtistMap",{method:"post",body:JSON.stringify({artist1ID:t,artist2ID:n,token:a,numRelated:5}),headers:{"Content-Type":"application/json"}});case 2:return o=e.sent,e.next=5,o.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();var pe=function(e){Object(E.a)(n,e);var t=Object(N.a)(n);function n(e){var o;return Object(y.a)(this,n),(o=t.call(this,e)).makeItLarge=function(){var e=o.state.graph,t=function(e){for(var t={edges:[],nodes:[]},n=0,a=0,o=e||0,r=1;r<=o;r++)r%20===0?(n++,a=0):a++,t.nodes.push({id:"a".concat(r),title:"Node ".concat(r),type:ee[Math.floor(ee.length*Math.random())],x:0+200*a,y:0+200*n});for(var i=1;i<o;i++)t.edges.push({source:"a".concat(i),target:"a".concat(i+1),type:te[Math.floor(te.length*Math.random())]});return t}(o.state.totalNodes);e.nodes=t.nodes,e.edges=t.edges,o.setState(o.state)},o.addStartNode=function(){var e=o.state.graph;e.nodes=[{id:Date.now(),title:"Node A",type:Q,x:0,y:0}].concat(Object(f.a)(o.state.graph.nodes)),o.setState({graph:e})},o.expandMap=function(){function e(e,t){for(var n=0;n<t.length;n++)if(e==t[n].id)return console.log("node already in the map"),n;return-1}console.log(o.state.side1SelectedNode),console.log(o.state.side2SelectedNode),ge(o.state.side1SelectedNode.id,o.state.side2SelectedNode.id,localStorage.getItem("token")).then((function(t){var n=o.state.graph;n.nodes=Object(f.a)(o.state.graph.nodes);for(var a=o.state.side1SelectedNode.y,r=o.state.side1SelectedNode.x,i=o.state.side2SelectedNode.y,d=o.state.side2SelectedNode.x,s=[500,-500],c=0;c<n.nodes.length;c++){var l=n.nodes[c];l.side&&(l.x+=s[l.side-1]),n[c]=l}var u=t.related1.length;console.log("NUM RELATED "+u);var g=0;for(c=0;c<u&&g<5;){var p=t.related1[c].id;if(-1==e(p,o.state.side1Nodes)){g+=1;var h={id:p,subtype:"specialChild",title:t.related1[c].name,type:"customEmpty",x:r,y:a+200*c,side:1};n.nodes.push(h),o.state.side1Nodes.push(h);var m=e(p,o.state.side2Nodes);-1!=m&&n.edges.push({handleText:"",handleTooltipText:"",source:p,target:o.state.side2Nodes[m],type:"specialEdge"}),n.edges.push({handleText:t.related1[c].genresInCommon,handleTooltipText:"",source:o.state.side1SelectedNode.id,target:p,type:"specialEdge"}),c++}else a-=200,c++}g=0;for(c=0;c<u&&g<5;c++){var y=t.related2[c].id;if(-1==e(y,o.state.side2Nodes)){g+=1;h={id:y,subtype:"specialChild",title:t.related2[c].name,type:"customEmpty",x:d,y:i+200*c,side:1};n.nodes.push(h),o.state.side2Nodes.push(h);var v=e(y,o.state.side1Nodes);-1!=v&&n.edges.push({handleText:"",handleTooltipText:"",source:y,target:o.state.side1Nodes[v],type:"specialEdge"}),n.edges.push({handleText:t.related2[c].genresInCommon,handleTooltipText:"",source:o.state.side2SelectedNode.id,target:y,type:"specialEdge"})}else i-=200}var E=o.state;"SnapToGrid"!=o.state.layoutEngineType?E.layoutEngineType="SnapToGrid":E.layoutEngineType="None",E.graph=n,o.setState(E)}))},o.deleteStartNode=function(){var e=o.state.graph;e.nodes.splice(0,1),e.nodes=Object(f.a)(o.state.graph.nodes),o.setState({graph:e})},o.handleChange=function(e){o.setState({totalNodes:parseInt(e.target.value||"0",10)},o.makeItLarge)},o.onUpdateNode=function(e){var t=o.state.graph,n=o.getNodeIndex(e);t.nodes[n]=e,o.setState({graph:t})},o.onSelectNode=function(e){var t=o.state;console.log(e),o.state.side1Nodes.includes(e)?(t.side1SelectedNode=e,console.log("SIDE 1")):o.state.side2Nodes.includes(e)&&(t.side2SelectedNode=e,console.log("SIDE 2")),t.selected=e,o.setState(t)},o.onSelectEdge=function(e){o.setState({selected:e})},o.onCreateNode=function(e,t){var n=o.state.graph,a=Math.random()<.25?Q:"customEmpty",r={id:Date.now(),title:"",type:a,x:e,y:t};n.nodes=[].concat(Object(f.a)(n.nodes),[r]),o.setState({graph:n})},o.onDeleteNode=function(e,t,n){var a=o.state.graph,r=a.edges.filter((function(t,n){return t.source!==e.id&&t.target!==e.id}));a.nodes=n,a.edges=r,o.setState({graph:a,selected:null})},o.onCreateEdge=function(e,t){var n=o.state.graph,a=e.type===Q?"specialEdge":"emptyEdge",r={source:e.id,target:t.id,type:a};r.source!==r.target&&(n.edges=[].concat(Object(f.a)(n.edges),[r]),o.setState({graph:n,selected:r}))},o.onSwapEdge=function(e,t,n){var a=o.state.graph,r=o.getEdgeIndex(n),i=JSON.parse(JSON.stringify(a.edges[r]));i.source=e.id,i.target=t.id,a.edges[r]=i,a.edges=Object(f.a)(a.edges),o.setState({graph:a,selected:i})},o.onDeleteEdge=function(e,t){var n=o.state.graph;n.edges=t,o.setState({graph:n,selected:null})},o.onUndo=function(){console.warn("Undo is not currently implemented in the example.")},o.onCopySelected=function(){if(o.state.selected.source)console.warn("Cannot copy selected edges, try selecting a node instead.");else{var e=o.state.selected.x+10,t=o.state.selected.y+10;o.setState({copiedNode:Object(m.a)({},o.state.selected,{x:e,y:t})})}},o.onPasteSelected=function(){o.state.copiedNode||console.warn("No node is currently in the copy queue. Try selecting a node and copying it with Ctrl/Command-C");var e=o.state.graph,t=Object(m.a)({},o.state.copiedNode,{id:Date.now()});e.nodes=[].concat(Object(f.a)(e.nodes),[t]),o.forceUpdate()},o.handleChangeLayoutEngineType=function(e){o.setState({layoutEngineType:e.target.value})},o.onSelectPanNode=function(e){o.GraphView&&o.GraphView.panToNode(e.target.value,!0)},o.state={copiedNode:null,graph:le,layoutEngineType:void 0,selected:null,totalNodes:le.nodes.length,side1SelectedNode:{name:localStorage.getItem("artist1")},side2SelectedNode:{name:localStorage.getItem("artist2")},side1Nodes:[],side2Nodes:[]},o.GraphView=a.createRef(),o}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token"),n=localStorage.getItem("artist1"),a=localStorage.getItem("artist2");ue(n,a,t).then((function(t){console.log(t.artist1.name);var n={edges:[],nodes:[]},a=t.related1.length;console.log("RELATED "+a);var o={id:t.artist1.id,subtype:"specialChild",title:t.artist1.name,type:"customEmpty",x:1e3,y:0,side:1};n.nodes.push(o),e.state.side1SelectedNode=o;var r={id:t.artist2.id,subtype:"specialChild",title:t.artist2.name,type:"customEmpty",x:0,y:0,side:2};n.nodes.push(r),e.state.side2SelectedNode=r;for(var i=a/2*200*-1,d=0;d<a;d++){var s={id:t.related1[d].id,subtype:"specialChild",title:t.related1[d].name,type:"customEmpty",x:600,y:i+200*d,side:1};n.nodes.push(s),e.state.side1Nodes.push(s),n.edges.push({handleText:t.related1[d].genresInCommon,handleTooltipText:"",source:t.artist1.id,target:t.related1[d].id,type:"specialEdge"})}for(d=0;d<a;d++){s={id:t.related2[d].id,subtype:"specialChild",title:t.related2[d].name,type:"customEmpty",x:400,y:i+200*d,side:2};n.nodes.push(s),e.state.side2Nodes.push(s),n.edges.push({handleText:t.related2[d].genresInCommon,handleTooltipText:"",source:t.artist2.id,target:t.related2[d].id,type:"specialEdge"})}var c={copiedNode:null,graph:n,layoutEngineType:void 0,selected:null,totalNodes:le.nodes.length};e.setState(c)}))}},{key:"getNodeIndex",value:function(e){return this.state.graph.nodes.findIndex((function(t){return t.id===e.id}))}},{key:"getEdgeIndex",value:function(e){return this.state.graph.edges.findIndex((function(t){return t.source===e.source&&t.target===e.target}))}},{key:"getViewNode",value:function(e){var t={};t.id=e;var n=this.getNodeIndex(t);return this.state.graph.nodes[n]}},{key:"render",value:function(){var e=this,t=this.state.graph,n=t.nodes,o=t.edges,r=this.state.selected,i=ce.NodeTypes,d=ce.NodeSubtypes,s=ce.EdgeTypes;return a.createElement("div",{id:"graph"},a.createElement("div",{className:"graph-header"},a.createElement("button",{onClick:this.deleteStartNode},"Delete Node"),a.createElement("button",{onClick:this.expandMap},"Expand Map"),a.createElement("p",null,"Side 1 selected artist : ",this.state.side1SelectedNode.title),a.createElement("p",null,"Side 2 selected artist : ",this.state.side2SelectedNode.title),a.createElement("div",{className:"layout-engine"},a.createElement("span",null,"Layout Engine:"),a.createElement("select",{name:"layout-engine-type",onChange:this.handleChangeLayoutEngineType},a.createElement("option",{value:void 0},"None"),a.createElement("option",{value:"SnapToGrid"},"Snap to Grid"),a.createElement("option",{value:"VerticalTree"},"Vertical Tree"))),a.createElement("div",{className:"pan-list"},a.createElement("span",null,"Pan To:"),a.createElement("select",{onChange:this.onSelectPanNode},n.map((function(e){return a.createElement("option",{key:e.id,value:e.id},e.title)}))))),a.createElement(Y,{ref:function(t){return e.GraphView=t},nodeKey:"id",nodes:n,edges:o,selected:r,nodeTypes:i,nodeSubtypes:d,edgeTypes:s,onSelectNode:this.onSelectNode,onCreateNode:this.onCreateNode,onUpdateNode:this.onUpdateNode,onDeleteNode:this.onDeleteNode,onSelectEdge:this.onSelectEdge,onCreateEdge:this.onCreateEdge,onSwapEdge:this.onSwapEdge,onDeleteEdge:this.onDeleteEdge,onUndo:this.onUndo,onCopySelected:this.onCopySelected,onPasteSelected:this.onPasteSelected,layoutEngineType:this.state.layoutEngineType}))}}]),n}(a.Component),he=n(174),me=n(24);n(434);var fe=function(){return o.a.createElement(he.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(me.a,{path:"/",component:u,exact:!0}),o.a.createElement(me.a,{path:"/callback",component:p}),o.a.createElement(me.a,{path:"/map",component:h}),o.a.createElement(me.a,{path:"/graph",component:pe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[220,1,2]]]);
//# sourceMappingURL=main.9c57e4a9.chunk.js.map